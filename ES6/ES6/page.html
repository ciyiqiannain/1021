<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>page</title>
		<link rel="stylesheet" type="text/css" href="css/reset.css"/>
		<style type="text/css">
			li:nth-child(n+5){
				display: none;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<ul>
				
			</ul>
		</div>
		<div class="footer">
			
		</div>
	</body>
	<script src="js/jquery-3.5.1.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/runner.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$(function () {
			runner(function *(){
				let data=yield $.ajax({url:"json/page.json",dataType:"json"});
				console.log(data.ages.length)
				for (let i=0;i<data.ages.length;i++) {
					console.log(i)
					$('.box ul').append( '<li>'+data.ages[i].age+'</li>' )
				}
				let $length=Math.ceil(data.ages.length/4)
				console.log($length)
				
				for (let i=0;i<$length;i++) {
					let $btn=$('<button></button>');
					$('.footer').append( $btn )
					$btn.html( i+1 )
				}
				$('button').click(function () {
					let $index=$(this).index()+1;
					console.log($index)
					
					$("li").hide();
					for (let i=0;i<4;i++) {
						$("li").eq(($index-1)*4+i).show()
					}
				})
			})
		})
	</script>
</html>
