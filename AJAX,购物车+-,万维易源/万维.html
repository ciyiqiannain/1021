<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			img{
				width: 300px;
			}
		</style>
	</head>
	<body>
		
		<button id="searchBtn">searchBtn</button>
	</body>
	<script src="js/jquery-1.12.4.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$(function () {
			$("#searchBtn").click(function(){
		       function formatterDateTime() {
				  var date=new Date()
				  var month=date.getMonth() + 1
				  var datetime = date.getFullYear()
				    + ""// "年"
				    + (month >= 10 ? month : "0"+ month)
				    + ""// "月"
				    + (date.getDate() < 10 ? "0" + date.getDate() : date.getDate())
				    + ""
				    + (date.getHours() < 10 ? "0" + date.getHours() : date.getHours())
				    + ""
				    + (date.getMinutes() < 10 ? "0" + date.getMinutes() : date.getMinutes())
				    + ""
				    + (date.getSeconds() < 10 ? "0" + date.getSeconds() : date.getSeconds());
				  return datetime;
				}
				
				$.ajax({
				  type: 'post',
				  url: 'https://route.showapi.com/9-5',
				  dataType: 'json',
				  data: {
				    "showapi_timestamp": formatterDateTime(),
				    "showapi_appid": '441335', //这里需要改成自己的appid
				    "showapi_sign": '217ba5df559a4433aa7edb6e79023267',  //这里需要改成自己的应用的密钥secret
				    "from":"5",
				    "lng":"116.2278",
				    "lat":"40.242266",
				    "needMoreDay":"0",
				    "needIndex":"0",
				    "needHourData":"0",
				    "need3HourForcast":"0",
				    "needAlarm":"0"
				  },
				
				  error: function(XmlHttpRequest, textStatus, errorThrown) {
				      alert("操作失败!");
				  },
				  success: function(result) {
				      console.log(result) //console变量在ie低版本下不能用
				      alert(result.showapi_res_code)
				  }
				});
		    });
		})
	</script>
</html>
