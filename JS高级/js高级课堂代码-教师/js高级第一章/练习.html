<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			div{
				width: 730px;
				height: 454px;
				border: 1px solid black;
				margin: 100px auto;
				position: relative;
			}
			ul{
				width: 730px;
				height: 454px;
				list-style: none;
				position: relative;
			}
			li{
				width: 730px;
				height: 454px;
				position: absolute;
				top: 0px;
				left: 0px;
			}
			p{
				width: 195px;
				height: 30px;
				border: 1px solid red;
				position: absolute;
				bottom: 50px;
				right: 100px;
			}
			span{
				display: inline-block;
				width: 30px;
				height: 30px;
				background: pink;
				line-height: 30px;
				text-align: center;
			}
			span:nth-child(n+2){
				margin-left: 20px;
			}
			.color{
				background: red;
			}
		</style>
	</head>
	<body>
		<div id="div">
			<ul id="ul">
				<li style="display: block;"><img src="img/1.jpg"/></li>
				<li style="display: none;"><img src="img/2.jpg"/></li>
				<li style="display: none;"><img src="img/3.jpg"/></li>
				<li style="display: none;"><img src="img/4.jpg"/></li>
			</ul>
			<p id="p">
				<span class="color">1</span>
				<span>2</span>
				<span>3</span>
				<span>4</span>
			</p>
		</div>
	</body>
	<script type="text/javascript">
		var ul=document.getElementById('ul');
		var p=document.getElementById('p');
		var lis=document.getElementsByTagName('li');
		var spans=document.getElementsByTagName('span');
		console.log(spans);
		var num=0;
		
		var timer=function(){			
			for(var i=0;i<lis.length;i++){
				lis[i].style.display='none';
				spans[i].className='';				
			}
			num++;
			if(num>=lis.length){
				num=0;
			}
			lis[num].style.display='block';
			spans[num].className='color';
		}
		var times=setInterval(timer,2000);
		ul.onmouseover=function(){
//			alert('a');
			clearInterval(times);
			times='';
		}
		ul.onmouseout=function(){
			times=setInterval(timer,2000);
		}
		
		for (var n=0;n<spans.length;n++) {
			spans[n].num=n;
			spans[n].onmouseover=function(){
//				alert(n);
				for (i=0;i<lis.length;i++) {
					lis[i].style.display='none';
					spans[i].className='';
				}
				lis[this.num].style.display='block';
				spans[this.num].className='color';
			}
			
			spans[n].onmouseleave=function(){
				num=this.num;
			}
		}
	</script>
</html>
